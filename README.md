# Reser proxy for Windows 

Внимание! Данный скрипту отвественность не несу вашей ПК или ноутбука! Заявленное скрипта чистит все действует во время разработке проверял самостоятельно и любой сайт открывается без проблем!

Описание

Скрипт removerpoxy.bat предназначен для полного сброса всех настроек прокси-сервера и сопутствующих сетевых параметров в операционной системе Windows. Он удаляет следы прокси из реестра, сбрасывает системные компоненты (WinHTTP, Winsock, TCP/IP), очищает кэши (DNS, ARP, NetBIOS) и может обновить IP-адрес, полученный от DHCP. После выполнения всех операций скрипт предлагает перезагрузить компьютер для полного применения изменений.

Этот инструмент будет полезен, если:

· Вы используете или использовали прокси, VPN, анонимайзеры, и после их отключения интернет работает некорректно.
· Браузеры или приложения продолжают «видеть» старый прокси.
· Возникают ошибки сети, сброса DNS, проблемы с подключением к интернету.
· Вы хотите вернуть сетевые настройки в «заводское» состояние перед диагностикой.

Что делает скрипт (подробно)

Скрипт выполняет следующие действия (в порядке выполнения):

1. Очистка реестра текущего пользователя (прокси)

· Удаляет значение ProxyServer (адрес прокси-сервера) из ветки HKCU\Software\Microsoft\Windows\CurrentVersion\Internet Settings.
· Удаляет значение AutoConfigURL (URL автоматической настройки прокси, PAC-скрипт).
· Устанавливает ProxyEnable = 0 (отключает использование прокси).

2. Сброс WinHTTP

· Выполняет команду netsh winhttp reset proxy, которая сбрасывает настройки прокси для системных компонентов, использующих WinHTTP (некоторые приложения и службы).
  Требует прав администратора.

3. Очистка переменных окружения

· Удаляет переменные http_proxy и https_proxy в текущей сессии командной строки. Эти переменные могут задавать прокси для консольных утилит.

4. Сброс DNS-кэша

· ipconfig /flushdns — очищает локальный кэш DNS-резолвера.

5. Сброс Winsock

· netsh winsock reset — переустанавливает каталог Winsock, исправляя ошибки, связанные с сетевыми сокетами.
  Требует прав администратора.

6. Сброс стека TCP/IP

· netsh int ip reset — возвращает настройки протокола TCP/IP в состояние по умолчанию.
  Требует прав администратора.

7. Очистка кэша ARP

· arp -d * — удаляет все динамические записи из кэша ARP (соответствие IP-адресов MAC-адресам).
  Требует прав администратора.

8. Очистка кэша NetBIOS

· nbtstat -R — очищает кэш имён NetBIOS.
  Требует прав администратора.

9. Обновление IP-адреса (опционально)

· Запрашивает у пользователя подтверждение на выполнение ipconfig /release и ipconfig /renew.
· Эти команды освобождают текущий IP-адрес и запрашивают новый у DHCP-сервера.
  Требует прав администратора.
  Внимание: на время выполнения сеть отключается.

10. Перезагрузка компьютера (опционально)

· После завершения всех операций скрипт спрашивает, нужно ли перезагрузить компьютер сейчас.
· При положительном ответе и наличии прав администратора выполняется shutdown /r /t 10 (перезагрузка через 10 секунд с предупреждением).
· Если прав недостаточно, выводится рекомендация перезагрузить вручную.

Требования

· Права администратора – для выполнения большинства операций (кроме работы с реестром и переменными окружения). Запускайте скрипт от имени администратора, чтобы он сработал полностью.
· Наличие стандартных утилит Windows (reg, netsh, ipconfig, arp, nbtstat, shutdown). Все они присутствуют во всех версиях Windows.
